document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("search-form"),t=document.querySelector(".gallery"),n=document.querySelector(".load-more");let a=1,o="",i=0;async function s(e,o){const s=`https://pixabay.com/api/?key=37312100-865d32ca69dd36d98aea990c9&q=${encodeURIComponent(e)}&image_type=photo&orientation=horizontal&safesearch=true&page=${o}&per_page=40`;try{const e=await axios.get(s),{data:o}=e;i=o.totalHits,0===o.hits.length?(1===a&&(t.innerHTML=""),d("Sorry, there are no images matching your search query. Please try again.")):(1===a&&(t.innerHTML=""),o.hits.forEach((e=>{const n=function(e){const t=document.createElement("div");t.classList.add("photo-card");const n=document.createElement("img");n.src=e.webformatURL,n.alt=e.tags,n.loading="lazy";const a=document.createElement("div");a.classList.add("info");const o=r("Likes",e.likes),i=r("Views",e.views),s=r("Comments",e.comments),d=r("Downloads",e.downloads);return a.appendChild(o),a.appendChild(i),a.appendChild(s),a.appendChild(d),t.appendChild(n),t.appendChild(a),t}(e);t.appendChild(n)})),(c=o.hits.length)>=i?(n.style.display="none",c>0&&d("We're sorry, but you've reached the end of search results.")):n.style.display="flex")}catch(e){console.error(e),d("An error occurred while fetching images. Please try again later.")}var c}function r(e,t){const n=document.createElement("p");n.classList.add("info-item"),n.innerHTML=`<b>${e}</b> <span>${t}</span>`;const a=n.getBoundingClientRect().width;return n.style.maxWidth=`${a}px`,n}function d(e){Notiflix.Notify.failure(e)}n.style.display="none",e.addEventListener("submit",(async e=>{e.preventDefault();const n=e.target.elements.searchQuery.value.trim();n&&(o=n,a=1,i=0,t.innerHTML="",await s(n,a))})),n.addEventListener("click",(async()=>{a++,await s(o,a)}))}));
//# sourceMappingURL=index.30a19004.js.map

document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("search-form"),t=document.querySelector(".gallery"),n=document.querySelector(".load-more");let a=1,o="",i=0,r=0,s="";async function c(e,o){const s=`https://pixabay.com/api/?key=37312100-865d32ca69dd36d98aea990c9&q=${encodeURIComponent(e)}&image_type=photo&orientation=horizontal&safesearch=true&page=${o}&per_page=40`;try{const e=await axios.get(s),{data:o}=e;i=o.totalHits,0===o.hits.length?(1===a&&(t.innerHTML=""),l("Sorry, there are no images matching your search query. Please try again.")):(1===a&&(t.innerHTML=""),o.hits.forEach((e=>{const n=function(e){const t=document.createElement("div");t.classList.add("photo-card");const n=document.createElement("img");n.src=e.webformatURL,n.alt=e.tags,n.loading="lazy";const a=document.createElement("div");a.classList.add("info");const o=d("Likes",e.likes),i=d("Views",e.views),r=d("Comments",e.comments),s=d("Downloads",e.downloads);return a.appendChild(o),a.appendChild(i),a.appendChild(r),a.appendChild(s),t.appendChild(n),t.appendChild(a),t}(e);t.appendChild(n)})),c=o.hits.length,n.style.display=c<40?"none":"block"),r=Math.ceil(i/40),n.style.display=a>=r?"none":"block"}catch(e){console.error(e),l("An error occurred while fetching images. Please try again later.")}var c}function d(e,t){const n=document.createElement("p");return n.classList.add("info-item"),n.innerHTML=`<b>${e}</b> <span>${t}</span>`,n}function l(e){Notiflix.Notify.failure(e)}n.style.display="none",e.addEventListener("submit",(async e=>{e.preventDefault(),s=e.target.elements.searchQuery.value.trim(),s&&(o=s,a=1,i=0,t.innerHTML="",await c(s,a))})),n.addEventListener("click",(async()=>{a++,a=Math.min(a,r);try{await c(o,a)}catch(e){console.error(e)}}))}));
//# sourceMappingURL=index.aad3b7fa.js.map
